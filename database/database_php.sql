-- MySQL Script generated by MySQL Workbench
-- Fri Aug 20 08:11:13 2021
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema AdmissionsManagement
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema AdmissionsManagement
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `AdmissionsManagement` DEFAULT CHARACTER SET utf8 ;
USE `AdmissionsManagement` ;

-- -----------------------------------------------------
-- Table `AdmissionsManagement`.`Account`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `AdmissionsManagement`.`Account` (
  `username` NVARCHAR(20) NOT NULL,
  `password` VARCHAR(32) NOT NULL,
  `name` NVARCHAR(45) NOT NULL,
  `phoneNumber` VARCHAR(45) NOT NULL,
  `role` VARCHAR(45) NOT NULL,
  `status` INT NOT NULL,
  PRIMARY KEY (`username`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `AdmissionsManagement`.`AdmissionsYear`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `AdmissionsManagement`.`AdmissionsYear` (
  `idAdmissionsYear` CHAR(10) NOT NULL,
  `valueAdmissionsYear` INT NOT NULL,
  PRIMARY KEY (`idAdmissionsYear`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `AdmissionsManagement`.`Majors`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `AdmissionsManagement`.`Majors` (
  `idMajors` CHAR(10) NOT NULL,
  `nameMajors` NVARCHAR(50) NOT NULL,
  `descriptionMajors` NVARCHAR(500) NULL,
  `enabled` INT NOT NULL,
  PRIMARY KEY (`idMajors`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `AdmissionsManagement`.`ResultExam`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `AdmissionsManagement`.`ResultExam` (
  `idResultExam` CHAR(10) NOT NULL,
  `nguVan` FLOAT NULL,
  `toan` FLOAT NULL,
  `ngoaiNgu` FLOAT NULL,
  `vatLy` FLOAT NULL,
  `hoaHoc` FLOAT NULL,
  `sinhHoc` FLOAT NULL,
  `lichSu` FLOAT NULL,
  `diaLy` FLOAT NULL,
  `gdcd` FLOAT NULL,
  `diemCong` FLOAT NULL,
  PRIMARY KEY (`idResultExam`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `AdmissionsManagement`.`Application`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `AdmissionsManagement`.`Application` (
  `idApplication` CHAR(10) NOT NULL,
  `idAdmissionsYear` CHAR(10) NOT NULL,
  `avatar` LONGTEXT NULL,
  `name` NVARCHAR(50) NOT NULL,
  `gender` INT NOT NULL,
  `birthday` DATE NOT NULL,
  `birthplace` VARCHAR(100) NOT NULL,
  `ethnic` VARCHAR(20) NOT NULL COMMENT 'Dân tộc',
  `Identification` VARCHAR(45) NOT NULL COMMENT 'Số CMND',
  `expiration` DATE NOT NULL COMMENT 'Ngày hết hạn',
  `phoneNumber` VARCHAR(45) NOT NULL,
  `email` VARCHAR(45) NULL,
  `address` VARCHAR(100) NOT NULL,
  `idAdmissionsMajor` INT NOT NULL,
  `idResultExam` CHAR(10) NOT NULL,
  PRIMARY KEY (`idApplication`),
  INDEX `fk_Application_AdmissionsYear1_idx` (`idAdmissionsYear` ASC) VISIBLE,
  INDEX `fk_Application_ResultExam1_idx` (`idResultExam` ASC) VISIBLE,
  CONSTRAINT `fk_Application_AdmissionsYear1`
    FOREIGN KEY (`idAdmissionsYear`)
    REFERENCES `AdmissionsManagement`.`AdmissionsYear` (`idAdmissionsYear`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Application_ResultExam1`
    FOREIGN KEY (`idResultExam`)
    REFERENCES `AdmissionsManagement`.`ResultExam` (`idResultExam`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `AdmissionsManagement`.`AdmissionsMajor`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `AdmissionsManagement`.`AdmissionsMajor` (
  `idAdmissionsYear` CHAR(10) NOT NULL,
  `idMajors` CHAR(10) NOT NULL,
  `numberOf` INT NOT NULL COMMENT 'Chỉ tiêu',
  `groups` VARCHAR(45) NOT NULL COMMENT 'tổ hợp xét tuyển',
  `condition` INT NOT NULL COMMENT 'điểm điều kiện',
  INDEX `fk_AdmissionsMajor_AdmissionsYear1_idx` (`idAdmissionsYear` ASC) VISIBLE,
  INDEX `fk_AdmissionsMajor_Majors1_idx` (`idMajors` ASC) VISIBLE,
  PRIMARY KEY (`idAdmissionsYear`, `idMajors`),
  CONSTRAINT `fk_AdmissionsMajor_AdmissionsYear1`
    FOREIGN KEY (`idAdmissionsYear`)
    REFERENCES `AdmissionsManagement`.`AdmissionsYear` (`idAdmissionsYear`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_AdmissionsMajor_Majors1`
    FOREIGN KEY (`idMajors`)
    REFERENCES `AdmissionsManagement`.`Majors` (`idMajors`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `AdmissionsManagement`.`Account`
-- -----------------------------------------------------
START TRANSACTION;
USE `AdmissionsManagement`;
INSERT INTO `AdmissionsManagement`.`Account` (`username`, `password`, `name`, `phoneNumber`, `role`, `status`) VALUES ('admin', md5('admin'), 'trung', '12312', 'admin', 1);
INSERT INTO `AdmissionsManagement`.`Account` (`username`, `password`, `name`, `phoneNumber`, `role`, `status`) VALUES ('emp1', md5('emp'), 'qưeqdw', 'qdwdqw', 'user', 1);
INSERT INTO `AdmissionsManagement`.`Account` (`username`, `password`, `name`, `phoneNumber`, `role`, `status`) VALUES ('emp2', md5('emp'), '34534', '4567567', 'user', 0);

COMMIT;


-- -----------------------------------------------------
-- Data for table `AdmissionsManagement`.`AdmissionsYear`
-- -----------------------------------------------------
START TRANSACTION;
USE `AdmissionsManagement`;
INSERT INTO `AdmissionsManagement`.`AdmissionsYear` (`idAdmissionsYear`, `valueAdmissionsYear`) VALUES ('1', 2019);
INSERT INTO `AdmissionsManagement`.`AdmissionsYear` (`idAdmissionsYear`, `valueAdmissionsYear`) VALUES ('2', 2020);
INSERT INTO `AdmissionsManagement`.`AdmissionsYear` (`idAdmissionsYear`, `valueAdmissionsYear`) VALUES ('3', 2021);

COMMIT;


-- -----------------------------------------------------
-- Data for table `AdmissionsManagement`.`Majors`
-- -----------------------------------------------------
START TRANSACTION;
USE `AdmissionsManagement`;
INSERT INTO `AdmissionsManagement`.`Majors` (`idMajors`, `nameMajors`, `descriptionMajors`, `enabled`) VALUES ('1', 'Khoa học máy tính', 'là một ngành học về máy tính', 1);
INSERT INTO `AdmissionsManagement`.`Majors` (`idMajors`, `nameMajors`, `descriptionMajors`, `enabled`) VALUES ('2', 'Kỹ thuật phân mềm', 'là ngành học về phần mềm', 1);
INSERT INTO `AdmissionsManagement`.`Majors` (`idMajors`, `nameMajors`, `descriptionMajors`, `enabled`) VALUES ('3', 'Hệ thống thông tin', 'học hệ thống thông tin', 1);

COMMIT;


-- -----------------------------------------------------
-- Data for table `AdmissionsManagement`.`ResultExam`
-- -----------------------------------------------------
START TRANSACTION;
USE `AdmissionsManagement`;
INSERT INTO `AdmissionsManagement`.`ResultExam` (`idResultExam`, `nguVan`, `toan`, `ngoaiNgu`, `vatLy`, `hoaHoc`, `sinhHoc`, `lichSu`, `diaLy`, `gdcd`, `diemCong`) VALUES ('1', 10, 10, 10, 10, 10, 10, 9, 9, 9, 0);
INSERT INTO `AdmissionsManagement`.`ResultExam` (`idResultExam`, `nguVan`, `toan`, `ngoaiNgu`, `vatLy`, `hoaHoc`, `sinhHoc`, `lichSu`, `diaLy`, `gdcd`, `diemCong`) VALUES ('2', 4, 5, 8, 5, 9, 7, 9, 4, 1, 0);
INSERT INTO `AdmissionsManagement`.`ResultExam` (`idResultExam`, `nguVan`, `toan`, `ngoaiNgu`, `vatLy`, `hoaHoc`, `sinhHoc`, `lichSu`, `diaLy`, `gdcd`, `diemCong`) VALUES ('3', 7, 8, 9, 7, 5, 0, 5, 5, 3, 0);
INSERT INTO `AdmissionsManagement`.`ResultExam` (`idResultExam`, `nguVan`, `toan`, `ngoaiNgu`, `vatLy`, `hoaHoc`, `sinhHoc`, `lichSu`, `diaLy`, `gdcd`, `diemCong`) VALUES ('4', 7, 4, 1, 5, 6, 8, 7, 2, 3, 0);

COMMIT;


-- -----------------------------------------------------
-- Data for table `AdmissionsManagement`.`Application`
-- -----------------------------------------------------
START TRANSACTION;
USE `AdmissionsManagement`;
INSERT INTO `AdmissionsManagement`.`Application` (`idApplication`, `idAdmissionsYear`, `avatar`, `name`, `gender`, `birthday`, `birthplace`, `ethnic`, `Identification`, `expiration`, `phoneNumber`, `email`, `address`, `idAdmissionsMajor`, `idResultExam`) VALUES ('1', '1', NULL, 'Phạm Trung', 1, '2000-11-05', 'Kon Tum', 'Kinh', '581237439194', '2031-03-13', '01243123', 'trung@deptrai.com', 'Kon Tum', 1, '1');
INSERT INTO `AdmissionsManagement`.`Application` (`idApplication`, `idAdmissionsYear`, `avatar`, `name`, `gender`, `birthday`, `birthplace`, `ethnic`, `Identification`, `expiration`, `phoneNumber`, `email`, `address`, `idAdmissionsMajor`, `idResultExam`) VALUES ('2', '1', NULL, 'Chung Đường', 2, '1999-11-02', 'Hà Nội', 'Kinh', '1231231231', '2031-09-12', '015467523', 'hehe@com.com', 'Hà Lội', 2, '2');
INSERT INTO `AdmissionsManagement`.`Application` (`idApplication`, `idAdmissionsYear`, `avatar`, `name`, `gender`, `birthday`, `birthplace`, `ethnic`, `Identification`, `expiration`, `phoneNumber`, `email`, `address`, `idAdmissionsMajor`, `idResultExam`) VALUES ('3', '2', NULL, 'Anh Lau Sạch', 1, '2000-12-03', 'Hà Giang', 'HMong', '534563563', '2034-01-01', '567567567', 'thoithi@game.com', 'Bắc Ninh', 2, '3');
INSERT INTO `AdmissionsManagement`.`Application` (`idApplication`, `idAdmissionsYear`, `avatar`, `name`, `gender`, `birthday`, `birthplace`, `ethnic`, `Identification`, `expiration`, `phoneNumber`, `email`, `address`, `idAdmissionsMajor`, `idResultExam`) VALUES ('4', '3', NULL, 'Phương Trời', 1, '2000-04-06', 'Lào Cai', 'Ede', '34563345', '2012-03-01', '678678678', 'xavoi@leroi.com', 'Vĩnh Long', 3, '4');

COMMIT;


-- -----------------------------------------------------
-- Data for table `AdmissionsManagement`.`AdmissionsMajor`
-- -----------------------------------------------------
START TRANSACTION;
USE `AdmissionsManagement`;
INSERT INTO `AdmissionsManagement`.`AdmissionsMajor` (`idAdmissionsYear`, `idMajors`, `numberOf`, `groups`, `condition`) VALUES ('1', '1', 20, 'A1, A2, A3', 21);
INSERT INTO `AdmissionsManagement`.`AdmissionsMajor` (`idAdmissionsYear`, `idMajors`, `numberOf`, `groups`, `condition`) VALUES ('1', '2', 32, 'A1, A3', 22);
INSERT INTO `AdmissionsManagement`.`AdmissionsMajor` (`idAdmissionsYear`, `idMajors`, `numberOf`, `groups`, `condition`) VALUES ('1', '3', 40, 'B1, B2', 24);
INSERT INTO `AdmissionsManagement`.`AdmissionsMajor` (`idAdmissionsYear`, `idMajors`, `numberOf`, `groups`, `condition`) VALUES ('2', '1', 40, 'C1, C2', 18);
INSERT INTO `AdmissionsManagement`.`AdmissionsMajor` (`idAdmissionsYear`, `idMajors`, `numberOf`, `groups`, `condition`) VALUES ('2', '2', 91, 'D1, D3', 15);
INSERT INTO `AdmissionsManagement`.`AdmissionsMajor` (`idAdmissionsYear`, `idMajors`, `numberOf`, `groups`, `condition`) VALUES ('3', '1', 91, 'A1, A4', 23);

COMMIT;

